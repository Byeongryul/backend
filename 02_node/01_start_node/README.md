# 핵심 개념 이해햐기
## 노드란?
Node.js는 chrome V8 Javascript 엔진으로 빌드된 javaScript 런타임이다
- 먼저 서버와 런타임이 무엇인지 알아보자!
***
## 서버
서버는 네트워크를 통해 클라이언트에 정보나 서비스를 제공하는 컴퓨터
> 클라이언트란?
> - 브라우저(네이버 웹툰 보기)
> - 모바일 앱(카카오톡 앱 다운로드)
> - 서버에 요청을 보내는 서버

왜 노드를 통해 서버를 구축하는가?
## 자바스크립트 런타임
- 노드는 자바스크립트 실행기
- 기존 노드는 브라우저에서만 작동
- 기술 발전으로 속도가 개선됨
- 노드의 특성인 이벤트 기반, 논 블로킹 I/O 모델을 사용할 수 있게 됨
***
## 이벤트 기반이란?
- 이벤트가 발생했을 때 실행함
- 이벤트 리스너에 콜백 함수를 등록한다고 표현함
- 이로 인해 이벤트 루프라는 개념이 생김
- 동시에 발동하는 이벤트를 어떤 순서로 작동할지는 이벤트 리스너가 결정
```javascript
function func1(){
    func2();
    console.log('first');
}
function func2(){
    func3();
    console.log('second');
}
function func3(){
    connsolelog('third');
}
func1();
```
위와 같은 모습을 콜백 함수라고 부를 수 있음
```javascript
function run(){
    connsole.log('3초 후 실행');
}
console.log('시작');
setTimeout(run, 3000);
console.log('끝');
```
위 코드는 시작과 끝이 출력되고 3초후 실행이 출력됨
### 위 코드의 흐름도
1. 호출 스택에 쌓임
2. setTimeout 실행 시 콜백 run은 백그라운드로 보냄
3. 백그라운드에서 3초 후 태스크 큐로 보냄
4. 호출 스택 실행이 끝나 비워지면
5. 이벤트 루프가 테스트 큐의 콜백을 호출 스택으로 올림
6. run이 호출 스택에서 실행되고 비워짐
7. 이벤트 루프는 테스트 큐에 콜백이 들어올 때까지 대기
***
## 논 블로킹 I/O
이벤트 루프를 잘 활용하면 효율적으로 컴퓨터 리소스를 사용할 수 있음
- 동시 실행 가능한 일은 동시에
- 동시 불가능한 일은 순차로 실행함
- 동시성과 논 블로킹은 다른 것
    - 논 블로킹을 통해 동시성을 얻음
***
## 싱글 스레드
코드를 동시에 작동할 수 없는 이유
### 프로세스와 스레드의 차이
- 프로세스는 운영체제에서 할당하는 작업의 단위
    - 프로세스 간에는 메모리 등의 자원을 공유하지 않음
- 스레드는 프로세스 내에서 실행되는 흐름의 단위
    - 부모 프로세스의 메모리에 접근할 수 있음

실제로 멀티 스레드로 작동하지만, 직접 제어할 수 있는 스레드는 한 개입니다.

노드가 싱글 스레드로 동작하지 않는 경우는 크게 2가지로 나눌 수 있습니다.
- 스레드 풀
    - 암호화, 파일 입출력, 압축 등, 특정 업무에 멀티 스레드로 작동합니다.
- 워커 스레드
    - 직접 다수의 스레드를 다룰 수 있도록 노드 12 버전에 생겼습니다.
### 멀티 스레딩과 멀티 프로세싱 비교
|멀티 스레딩|멀티 프로세싱|
|:------:|:--------|
|하나의 프로세스 안에서 여러 개의 스레드 사용|여러 개의 프로세스 사용|
|CPU 작업이 많을 때 사용|I/O 요청이 많을 때 사용|
|프로그래밍이 어려움|프로그래밍이 비교적 쉬움|
# 서버로서의 노드
서버로서의 노드의 장단점은 자바스크립트의 특징을 따라갑니다.
- CPU 작업이 적은 일을 감당할 수 있음
    - 개수는 많지만 크기는 작은 데이터를 실시간으로 주고받는 데 적합
    - 네트워크나 데이터베이스, 디스크 작업 같은 I/O에 특화되어 있기 떄문

멀티 스레딩 기술을 지원하지만(워커 스레드) 대규모 작업을 위한 서버로 부적합함
- 